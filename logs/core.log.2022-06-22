2022-06-22 19:35:53,118|ERROR|/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py(1891)|log_exception|Exception on /wechat/auth/login [POST]
Traceback (most recent call last):
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask_cors/extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/vega/workspace/codes/py_space/working/photo-tools-api/photo_tools_app/controller/wechat/auth.py", line 35, in login
    encrypted_data = plat_user_info_map['encryptedData']
TypeError: 'NoneType' object is not subscriptable
2022-06-22 19:38:20,494|ERROR|/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py(1891)|log_exception|Exception on /wechat/auth/login [POST]
Traceback (most recent call last):
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask_cors/extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/vega/workspace/codes/py_space/working/photo-tools-api/photo_tools_app/controller/wechat/auth.py", line 35, in login
    encrypted_data = plat_user_info_map['encryptedData']
TypeError: 'NoneType' object is not subscriptable
2022-06-22 20:19:09,314|ERROR|/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py(1891)|log_exception|Exception on /wechat/auth/login [POST]
Traceback (most recent call last):
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask_cors/extension.py", line 165, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/zhouquan/opt/anaconda3/envs/tensorflow2/lib/python3.9/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/vega/workspace/codes/py_space/working/photo-tools-api/photo_tools_app/controller/wechat/auth.py", line 36, in login
    url = url.format(appid, secret, code)
AttributeError: 'Constant' object has no attribute 'format'
